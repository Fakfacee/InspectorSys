(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-filedwonload-filedwonload"],{"05ed":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".window-box[data-v-2635e3ab]{width:100%;height:100vh;display:flex;flex-direction:row;background:hsla(0,0%,82.7%,.3)}.func-box[data-v-2635e3ab]{margin:%?40?% %?40?%;width:40%;height:90vh;background-color:#fff;border-radius:10px}.input-box[data-v-2635e3ab]{display:flex;flex-direction:row;align-items:center;margin-left:%?40?%}.input[data-v-2635e3ab]{border:1px solid #000}.button[data-v-2635e3ab]{position:relative;width:%?240?%;top:%?20?%;left:%?80?%;display:flex;flex-direction:row;font-size:%?14?%;margin-left:10px;height:28px;align-items:center;justify-content:center}.button-box[data-v-2635e3ab]{display:flex;flex-direction:row;justify-content:flex-end;margin-left:%?80?%}.gray-blank[data-v-2635e3ab]{margin-top:%?80?%;height:%?10?%;background-color:hsla(0,0%,82.7%,.3)}.imf-text-second[data-v-2635e3ab]{margin:5px 5px;font-size:15px}.date-box[data-v-2635e3ab]{margin-left:10px;width:60%}",""]),t.exports=e},"0664":function(t,e,n){"use strict";var a=n("1580"),o=n.n(a);o.a},"107f":function(t,e,n){"use strict";n.r(e);var a=n("9517"),o=n("571b");for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("0664");var l=n("f0c5"),s=Object(l["a"])(o["default"],a["b"],a["c"],!1,null,"2635e3ab",null,!1,a["a"],void 0);e["default"]=s.exports},1580:function(t,e,n){var a=n("05ed");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=n("4f06").default;o("15dc03dc",a,!0,{sourceMap:!1,shadowMode:!1})},"571b":function(t,e,n){"use strict";n.r(e);var a=n("97a6"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=o.a},9517:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var a={uniDatetimePicker:n("204a").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"window-box"},[n("v-uni-view",{staticClass:"func-box"},[n("v-uni-view",{staticClass:"imf-text"},[t._v("DWR下载")]),n("v-uni-button",{staticClass:"button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.downloadDwrFile.apply(void 0,arguments)}}},[t._v("点击开始下载")]),n("v-uni-view",{staticClass:"gray-blank"}),n("v-uni-view",{staticClass:"imf-text"},[t._v("焊口信息汇总表下载")]),n("v-uni-button",{staticClass:"button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.downloadSumFile.apply(void 0,arguments)}}},[t._v("点击开始下载")]),n("v-uni-view",{staticClass:"gray-blank"})],1),n("v-uni-view",{staticClass:"func-box"},[n("v-uni-view",{staticClass:"imf-text"},[t._v("VT信息下载")]),n("v-uni-view",{staticClass:"imf-text-second "},[t._v("开始日期")]),n("v-uni-view",{staticClass:"date-box"},[n("uni-section",{attrs:{title:"日期用法："+t.single,type:"line"}}),n("v-uni-view",{staticClass:"example-body"},[n("uni-datetime-picker",{attrs:{type:"date","clear-icon":!1},model:{value:t.StartDate,callback:function(e){t.StartDate=e},expression:"StartDate"}})],1)],1),n("v-uni-view",{staticClass:"imf-text-second "},[t._v("结束日期")]),n("v-uni-view",{staticClass:"date-box"},[n("uni-section",{attrs:{title:"日期用法："+t.single,type:"line"}}),n("v-uni-view",{staticClass:"example-body"},[n("uni-datetime-picker",{attrs:{type:"date","clear-icon":!1},model:{value:t.EndDate,callback:function(e){t.EndDate=e},expression:"EndDate"}})],1)],1),n("v-uni-button",{staticClass:"button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.downloadVtFile.apply(void 0,arguments)}}},[t._v("下载")])],1)],1)},i=[]},"97a6":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("e9c4");var a={data:function(){return{single:"",StartDate:null,EndDate:null,downloadProgress:[0],showCalendar:!1,selectedDate:""}},onLoad:function(){},methods:{downloadDwrFile:function(){var t=new XMLHttpRequest;t.open("GET",getApp().globalData.url+"downloaddwrfile"),t.responseType="blob",t.onload=function(){if(200===t.status){var e=new Blob([t.response],{type:"application/octet-stream"}),n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.download="dwr.xlsx",n.click()}else console.log("Failed to download file")},t.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100;100==e.toFixed(2)&&uni.showToast({title:"下载完成",icon:"none",duration:1e3,mask:!0})}},t.send()},downloadSumFile:function(){var t=new XMLHttpRequest;t.open("GET",getApp().globalData.url+"downloadsumfile"),t.responseType="blob",t.onload=function(){if(200===t.status){var e=new Blob([t.response],{type:"application/octet-stream"}),n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.download="summary.xlsx",n.click()}else uni.showToast({title:"下载失败",icon:"none",duration:1e3,mask:!0})},t.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100;100==e.toFixed(2)&&uni.showToast({title:"下载完成",icon:"none",duration:1e3,mask:!0})}},t.send()},downloadVtFile:function(){var t=new XMLHttpRequest,e={StartDate:this.StartDate,EndDate:this.EndDate},n=getApp().globalData.url+"downloadvtfile?data="+encodeURIComponent(JSON.stringify(e));t.open("POST",n),t.responseType="blob",t.onload=function(){if(200===t.status){var e=new Blob([t.response],{type:"application/octet-stream"}),n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.download="vts.xlsx",n.click()}else uni.showToast({title:"下载失败",icon:"none",duration:1e3,mask:!0})},t.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*100;100==e.toFixed(2)&&uni.showToast({title:"下载完成",icon:"none",duration:1e3,mask:!0})}},t.send()},confirmDate:function(t){this.selectedDate=t,this.showCalendar=!1},cancelDate:function(){this.showCalendar=!1}}};e.default=a}}]);