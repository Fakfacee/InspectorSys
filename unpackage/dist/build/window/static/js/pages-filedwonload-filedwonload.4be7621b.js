(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-filedwonload-filedwonload"],{"020b":function(o,e,t){var n=t("24fb");e=n(!1),e.push([o.i,".right-window[data-v-cb6f6a1c]{display:flex;flex-direction:column}.box-button[data-v-cb6f6a1c]{width:100%;height:40px;display:flex;justify-content:center;border-top:1px solid #000}.download-progress[data-v-cb6f6a1c]{display:flex;flex-direction:row;width:80%;height:20px}",""]),o.exports=e},"107f":function(o,e,t){"use strict";t.r(e);var n=t("2edf"),a=t("571b");for(var i in a)["default"].indexOf(i)<0&&function(o){t.d(e,o,(function(){return a[o]}))}(i);t("8a99");var l=t("f0c5"),s=Object(l["a"])(a["default"],n["b"],n["c"],!1,null,"cb6f6a1c",null,!1,n["a"],void 0);e["default"]=s.exports},"2edf":function(o,e,t){"use strict";t.d(e,"b",(function(){return n})),t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){}));var n=function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("v-uni-view",{staticClass:"right-window"},[t("v-uni-text",{staticClass:"imf-text"},[o._v("DWR下载")]),t("v-uni-view",{staticClass:"box-button"},[t("v-uni-button",{staticClass:"button",on:{click:function(e){arguments[0]=e=o.$handleEvent(e),o.downloadDwrFile.apply(void 0,arguments)}}},[o._v("点击开始下载")])],1),t("v-uni-text",{staticClass:"imf-text"},[o._v("焊口信息汇总表下载")]),t("v-uni-view",{staticClass:"box-button"},[t("v-uni-button",{staticClass:"button",on:{click:function(e){arguments[0]=e=o.$handleEvent(e),o.downloadSumFile.apply(void 0,arguments)}}},[o._v("点击开始下载")])],1)],1)},a=[]},"571b":function(o,e,t){"use strict";t.r(e);var n=t("97a6"),a=t.n(n);for(var i in n)["default"].indexOf(i)<0&&function(o){t.d(e,o,(function(){return n[o]}))}(i);e["default"]=a.a},"8a99":function(o,e,t){"use strict";var n=t("d2b1"),a=t.n(n);a.a},"97a6":function(o,e,t){"use strict";t("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t("d3b7"),t("3ca3"),t("ddb0"),t("2b3d"),t("9861");var n={data:function(){return{downloadProgress:[0]}},onLoad:function(){},methods:{downloadDwrFile:function(){var o=new XMLHttpRequest;o.open("GET",getApp().globalData.url+"downloaddwrfile"),o.responseType="blob",o.onload=function(){if(200===o.status){console.log("xhr为：",o);console.log("xhr.response为：",o.response);var e=new Blob([o.response],{type:"application/octet-stream"}),t=document.createElement("a");t.href=window.URL.createObjectURL(e),console.log(t.href),t.download="dwr.xlsx",t.click()}else console.log("Failed to download file")},o.onprogress=function(o){if(o.lengthComputable){var e=o.loaded/o.total*100;console.log("下载进度",e.toFixed(2)),100==e.toFixed(2)&&uni.showToast({title:"下载完成",icon:"none",duration:1e3,mask:!0})}},o.send()},downloadSumFile:function(){var o=new XMLHttpRequest;o.open("GET",getApp().globalData.url+"downloadsumfile"),o.responseType="blob",o.onload=function(){if(200===o.status){console.log(o);console.log(o.response);var e=new Blob([o.response],{type:"application/octet-stream"}),t=document.createElement("a");t.href=window.URL.createObjectURL(e),console.log(t.href),t.download="summary.xlsx",t.click()}else uni.showToast({title:"下载失败",icon:"none",duration:1e3,mask:!0})},o.onprogress=function(o){if(o.lengthComputable){var e=o.loaded/o.total*100;console.log("下载进度",e.toFixed(2)),100==e.toFixed(2)&&uni.showToast({title:"下载完成",icon:"none",duration:1e3,mask:!0})}},o.send()}}};e.default=n},d2b1:function(o,e,t){var n=t("020b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[o.i,n,""]]),n.locals&&(o.exports=n.locals);var a=t("4f06").default;a("2181c0e5",n,!0,{sourceMap:!1,shadowMode:!1})}}]);